[build]
builder = "dockerfile"

[deploy]
healthcheckPath = "/setup/healthz"
healthcheckTimeout = 300
restartPolicyType = "on_failure"

# Require a persistent volume mounted at /data (Railway).
requiredMountPath = "/data"

[variables]
# NOTE: Railway injects PORT automatically.
# Do not set PORT here; Railway templates may not apply it reliably and hardcoding
# can cause domain routing mismatches.
POSTGRES_PASSWORD = "${{secret(32)}}"
SETUP_PASSWORD = "${{secret(32)}}"
OPENCLAW_STATE_DIR = "/data/.openclaw"
OPENCLAW_WORKSPACE_DIR = "/data/workspace"
